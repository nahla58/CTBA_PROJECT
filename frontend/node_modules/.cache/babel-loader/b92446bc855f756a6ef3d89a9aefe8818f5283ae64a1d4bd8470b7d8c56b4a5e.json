{"ast":null,"code":"var _jsxFileName = \"C:\\\\essai\\\\CTBA_PROJECT\\\\frontend\\\\src\\\\components\\\\MailingListManager.js\",\n  _s = $RefreshSig$();\n/**\r\n * MailingListManager Component - Frontend React\r\n * Features:\r\n * - Manage To/Cc/Bcc recipient lists per region\r\n * - Add/remove recipients\r\n * - Email validation\r\n * - Override default lists\r\n * - Audit trail for changes\r\n */\n\nimport React, { useState, useEffect } from 'react';\nimport './MailingListManager.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MailingListManager({\n  user\n}) {\n  _s();\n  const [regions, setRegions] = useState([]);\n  const [selectedRegion, setSelectedRegion] = useState(null);\n  const [mailingList, setMailingList] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  // Form states\n  const [toRecipients, setToRecipients] = useState('');\n  const [ccRecipients, setCcRecipients] = useState('');\n  const [bccRecipients, setBccRecipients] = useState('');\n  const [newRecipient, setNewRecipient] = useState('');\n  const [recipientType, setRecipientType] = useState('to'); // to, cc, or bcc\n\n  // Load regions on mount\n  useEffect(() => {\n    fetchRegions();\n  }, []);\n\n  // Load mailing list when region is selected\n  useEffect(() => {\n    if (selectedRegion) {\n      fetchMailingList(selectedRegion);\n    }\n  }, [selectedRegion]);\n  const fetchRegions = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('http://localhost:8000/api/regions');\n      const data = await response.json();\n      if (response.ok) {\n        setRegions(Array.isArray(data) ? data : data.regions || []);\n      } else {\n        setError('Failed to load regions');\n      }\n    } catch (err) {\n      console.error('Error fetching regions:', err);\n      setError('Error loading regions: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchMailingList = async regionId => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`http://localhost:8000/api/regions/${regionId}/mailing-list`);\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}`);\n      }\n      const data = await response.json();\n\n      // Handle direct response or wrapped response\n      const list = data.mailing_list || data;\n\n      // Check if we have the required fields\n      if (list && (list.region_id || list.to_recipients !== undefined)) {\n        setMailingList(list);\n        setToRecipients(Array.isArray(list.to_recipients) ? list.to_recipients.join(', ') : list.to_recipients || '');\n        setCcRecipients(Array.isArray(list.cc_recipients) ? list.cc_recipients.join(', ') : list.cc_recipients || '');\n        setBccRecipients(Array.isArray(list.bcc_recipients) ? list.bcc_recipients.join(', ') : list.bcc_recipients || '');\n      } else {\n        setError('Failed to load mailing list');\n      }\n    } catch (err) {\n      console.error('Error fetching mailing list:', err);\n      setError('Error loading mailing list: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const validateEmail = email => {\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return re.test(email.trim());\n  };\n  const addRecipient = () => {\n    if (!newRecipient.trim()) {\n      setError('Please enter an email address');\n      return;\n    }\n    if (!validateEmail(newRecipient)) {\n      setError('Invalid email format');\n      return;\n    }\n    let currentList = [];\n    if (recipientType === 'to') {\n      currentList = toRecipients ? toRecipients.split(',').map(e => e.trim()) : [];\n    } else if (recipientType === 'cc') {\n      currentList = ccRecipients ? ccRecipients.split(',').map(e => e.trim()) : [];\n    } else if (recipientType === 'bcc') {\n      currentList = bccRecipients ? bccRecipients.split(',').map(e => e.trim()) : [];\n    }\n    if (currentList.includes(newRecipient.trim())) {\n      setError('This email is already in the list');\n      return;\n    }\n    currentList.push(newRecipient.trim());\n    if (recipientType === 'to') {\n      setToRecipients(currentList.join(', '));\n    } else if (recipientType === 'cc') {\n      setCcRecipients(currentList.join(', '));\n    } else if (recipientType === 'bcc') {\n      setBccRecipients(currentList.join(', '));\n    }\n    setNewRecipient('');\n    setError(null);\n    setSuccess('Recipient added successfully');\n    setTimeout(() => setSuccess(null), 3000);\n  };\n  const removeRecipient = (email, type) => {\n    let list = [];\n    if (type === 'to') {\n      list = toRecipients.split(',').map(e => e.trim()).filter(e => e !== email);\n      setToRecipients(list.join(', '));\n    } else if (type === 'cc') {\n      list = ccRecipients.split(',').map(e => e.trim()).filter(e => e !== email);\n      setCcRecipients(list.join(', '));\n    } else if (type === 'bcc') {\n      list = bccRecipients.split(',').map(e => e.trim()).filter(e => e !== email);\n      setBccRecipients(list.join(', '));\n    }\n  };\n  const saveMailing = async () => {\n    if (!selectedRegion) {\n      setError('Please select a region');\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n      const toList = toRecipients ? toRecipients.split(',').map(e => e.trim()).filter(e => e) : [];\n      const ccList = ccRecipients ? ccRecipients.split(',').map(e => e.trim()).filter(e => e) : [];\n      const bccList = bccRecipients ? bccRecipients.split(',').map(e => e.trim()).filter(e => e) : [];\n\n      // Validate all emails\n      const allEmails = [...toList, ...ccList, ...bccList];\n      for (let email of allEmails) {\n        if (!validateEmail(email)) {\n          setError(`Invalid email format: ${email}`);\n          setLoading(false);\n          return;\n        }\n      }\n      const response = await fetch(`http://localhost:8000/api/regions/${selectedRegion}/mailing-list`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          to_recipients: toList,\n          cc_recipients: ccList,\n          bcc_recipients: bccList,\n          updated_by: (user === null || user === void 0 ? void 0 : user.username) || 'system'\n        })\n      });\n      const data = await response.json();\n      if (data.success || response.ok) {\n        setSuccess('Mailing list updated successfully');\n        setTimeout(() => setSuccess(null), 3000);\n        fetchMailingList(selectedRegion);\n      } else {\n        setError(data.message || 'Failed to update mailing list');\n      }\n    } catch (err) {\n      console.error('Error saving mailing list:', err);\n      setError('Error saving mailing list: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const clearAll = () => {\n    if (window.confirm('Are you sure you want to clear all recipients for this region?')) {\n      setToRecipients('');\n      setCcRecipients('');\n      setBccRecipients('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mailing-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD83D\\uDCE7 Mailing List Manager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"region-selection\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Select Region:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedRegion || '',\n        onChange: e => setSelectedRegion(e.target.value || null),\n        className: \"region-select\",\n        disabled: loading,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Choose a region --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), regions.map(region => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: region.id,\n          children: [region.name, \" (\", region.id, \")\"]\n        }, region.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), selectedRegion && mailingList && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mailing-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-recipient-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Add New Recipient\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: newRecipient,\n            onChange: e => setNewRecipient(e.target.value),\n            placeholder: \"recipient@example.com\",\n            className: \"email-input\",\n            onKeyPress: e => e.key === 'Enter' && addRecipient()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: recipientType,\n            onChange: e => setRecipientType(e.target.value),\n            className: \"type-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"to\",\n              children: \"To (Primary)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cc\",\n              children: \"Cc (Carbon Copy)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"bcc\",\n              children: \"Bcc (Blind Copy)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addRecipient,\n            className: \"add-button\",\n            children: \"\\u2795 Add Recipient\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipients-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recipient-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"to-header\",\n            children: \"\\uD83D\\uDCE8 To Recipients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recipient-list\",\n            children: [toRecipients && toRecipients.split(',').map((email, idx) => {\n              const trimmed = email.trim();\n              return trimmed ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipient-chip to-chip\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: trimmed\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeRecipient(trimmed, 'to'),\n                  className: \"remove-btn\",\n                  title: \"Remove\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 21\n              }, this) : null;\n            }), (!toRecipients || toRecipients.split(',').every(e => !e.trim())) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-message\",\n              children: \"No To recipients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recipient-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"cc-header\",\n            children: \"\\uD83D\\uDCCB Cc Recipients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recipient-list\",\n            children: [ccRecipients && ccRecipients.split(',').map((email, idx) => {\n              const trimmed = email.trim();\n              return trimmed ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipient-chip cc-chip\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: trimmed\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeRecipient(trimmed, 'cc'),\n                  className: \"remove-btn\",\n                  title: \"Remove\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 21\n              }, this) : null;\n            }), (!ccRecipients || ccRecipients.split(',').every(e => !e.trim())) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-message\",\n              children: \"No Cc recipients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recipient-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"bcc-header\",\n            children: \"\\uD83D\\uDD12 Bcc Recipients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recipient-list\",\n            children: [bccRecipients && bccRecipients.split(',').map((email, idx) => {\n              const trimmed = email.trim();\n              return trimmed ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipient-chip bcc-chip\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: trimmed\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeRecipient(trimmed, 'bcc'),\n                  className: \"remove-btn\",\n                  title: \"Remove\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this) : null;\n            }), (!bccRecipients || bccRecipients.split(',').every(e => !e.trim())) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-message\",\n              children: \"No Bcc recipients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mailing-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"To Recipients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: toRecipients ? toRecipients.split(',').filter(e => e.trim()).length : 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Cc Recipients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: ccRecipients ? ccRecipients.split(',').filter(e => e.trim()).length : 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Bcc Recipients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: bccRecipients ? bccRecipients.split(',').filter(e => e.trim()).length : 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Total Recipients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value total\",\n            children: (toRecipients ? toRecipients.split(',').filter(e => e.trim()).length : 0) + (ccRecipients ? ccRecipients.split(',').filter(e => e.trim()).length : 0) + (bccRecipients ? bccRecipients.split(',').filter(e => e.trim()).length : 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveMailing,\n          className: \"save-button\",\n          disabled: loading,\n          children: \"\\uD83D\\uDCBE Save Mailing List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearAll,\n          className: \"clear-button\",\n          disabled: loading,\n          children: \"\\uD83D\\uDDD1\\uFE0F Clear All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fetchMailingList(selectedRegion),\n          className: \"refresh-button\",\n          disabled: loading,\n          children: \"\\uD83D\\uDD04 Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }, this), !selectedRegion && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-selection\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD83D\\uDC48 Please select a region to manage its mailing list\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 5\n  }, this);\n}\n_s(MailingListManager, \"H3rE+lOEUucWeE0MagViVHJwLBM=\");\n_c = MailingListManager;\nexport default MailingListManager;\nvar _c;\n$RefreshReg$(_c, \"MailingListManager\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","MailingListManager","user","_s","regions","setRegions","selectedRegion","setSelectedRegion","mailingList","setMailingList","loading","setLoading","error","setError","success","setSuccess","toRecipients","setToRecipients","ccRecipients","setCcRecipients","bccRecipients","setBccRecipients","newRecipient","setNewRecipient","recipientType","setRecipientType","fetchRegions","fetchMailingList","response","fetch","data","json","ok","Array","isArray","err","console","message","regionId","Error","status","list","mailing_list","region_id","to_recipients","undefined","join","cc_recipients","bcc_recipients","validateEmail","email","re","test","trim","addRecipient","currentList","split","map","e","includes","push","setTimeout","removeRecipient","type","filter","saveMailing","toList","ccList","bccList","allEmails","method","headers","body","JSON","stringify","updated_by","username","clearAll","window","confirm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","disabled","region","id","name","placeholder","onKeyPress","key","onClick","idx","trimmed","title","every","length","_c","$RefreshReg$"],"sources":["C:/essai/CTBA_PROJECT/frontend/src/components/MailingListManager.js"],"sourcesContent":["/**\r\n * MailingListManager Component - Frontend React\r\n * Features:\r\n * - Manage To/Cc/Bcc recipient lists per region\r\n * - Add/remove recipients\r\n * - Email validation\r\n * - Override default lists\r\n * - Audit trail for changes\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport './MailingListManager.css';\r\n\r\nfunction MailingListManager({ user }) {\r\n  const [regions, setRegions] = useState([]);\r\n  const [selectedRegion, setSelectedRegion] = useState(null);\r\n  const [mailingList, setMailingList] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n\r\n  // Form states\r\n  const [toRecipients, setToRecipients] = useState('');\r\n  const [ccRecipients, setCcRecipients] = useState('');\r\n  const [bccRecipients, setBccRecipients] = useState('');\r\n  const [newRecipient, setNewRecipient] = useState('');\r\n  const [recipientType, setRecipientType] = useState('to'); // to, cc, or bcc\r\n\r\n  // Load regions on mount\r\n  useEffect(() => {\r\n    fetchRegions();\r\n  }, []);\r\n\r\n  // Load mailing list when region is selected\r\n  useEffect(() => {\r\n    if (selectedRegion) {\r\n      fetchMailingList(selectedRegion);\r\n    }\r\n  }, [selectedRegion]);\r\n\r\n  const fetchRegions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch('http://localhost:8000/api/regions');\r\n      const data = await response.json();\r\n      \r\n      if (response.ok) {\r\n        setRegions(Array.isArray(data) ? data : data.regions || []);\r\n      } else {\r\n        setError('Failed to load regions');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching regions:', err);\r\n      setError('Error loading regions: ' + err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchMailingList = async (regionId) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await fetch(`http://localhost:8000/api/regions/${regionId}/mailing-list`);\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      // Handle direct response or wrapped response\r\n      const list = data.mailing_list || data;\r\n      \r\n      // Check if we have the required fields\r\n      if (list && (list.region_id || list.to_recipients !== undefined)) {\r\n        setMailingList(list);\r\n        setToRecipients(Array.isArray(list.to_recipients) ? list.to_recipients.join(', ') : (list.to_recipients || ''));\r\n        setCcRecipients(Array.isArray(list.cc_recipients) ? list.cc_recipients.join(', ') : (list.cc_recipients || ''));\r\n        setBccRecipients(Array.isArray(list.bcc_recipients) ? list.bcc_recipients.join(', ') : (list.bcc_recipients || ''));\r\n      } else {\r\n        setError('Failed to load mailing list');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching mailing list:', err);\r\n      setError('Error loading mailing list: ' + err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const validateEmail = (email) => {\r\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return re.test(email.trim());\r\n  };\r\n\r\n  const addRecipient = () => {\r\n    if (!newRecipient.trim()) {\r\n      setError('Please enter an email address');\r\n      return;\r\n    }\r\n\r\n    if (!validateEmail(newRecipient)) {\r\n      setError('Invalid email format');\r\n      return;\r\n    }\r\n\r\n    let currentList = [];\r\n    if (recipientType === 'to') {\r\n      currentList = toRecipients ? toRecipients.split(',').map(e => e.trim()) : [];\r\n    } else if (recipientType === 'cc') {\r\n      currentList = ccRecipients ? ccRecipients.split(',').map(e => e.trim()) : [];\r\n    } else if (recipientType === 'bcc') {\r\n      currentList = bccRecipients ? bccRecipients.split(',').map(e => e.trim()) : [];\r\n    }\r\n\r\n    if (currentList.includes(newRecipient.trim())) {\r\n      setError('This email is already in the list');\r\n      return;\r\n    }\r\n\r\n    currentList.push(newRecipient.trim());\r\n\r\n    if (recipientType === 'to') {\r\n      setToRecipients(currentList.join(', '));\r\n    } else if (recipientType === 'cc') {\r\n      setCcRecipients(currentList.join(', '));\r\n    } else if (recipientType === 'bcc') {\r\n      setBccRecipients(currentList.join(', '));\r\n    }\r\n\r\n    setNewRecipient('');\r\n    setError(null);\r\n    setSuccess('Recipient added successfully');\r\n    setTimeout(() => setSuccess(null), 3000);\r\n  };\r\n\r\n  const removeRecipient = (email, type) => {\r\n    let list = [];\r\n    if (type === 'to') {\r\n      list = toRecipients.split(',').map(e => e.trim()).filter(e => e !== email);\r\n      setToRecipients(list.join(', '));\r\n    } else if (type === 'cc') {\r\n      list = ccRecipients.split(',').map(e => e.trim()).filter(e => e !== email);\r\n      setCcRecipients(list.join(', '));\r\n    } else if (type === 'bcc') {\r\n      list = bccRecipients.split(',').map(e => e.trim()).filter(e => e !== email);\r\n      setBccRecipients(list.join(', '));\r\n    }\r\n  };\r\n\r\n  const saveMailing = async () => {\r\n    if (!selectedRegion) {\r\n      setError('Please select a region');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const toList = toRecipients ? toRecipients.split(',').map(e => e.trim()).filter(e => e) : [];\r\n      const ccList = ccRecipients ? ccRecipients.split(',').map(e => e.trim()).filter(e => e) : [];\r\n      const bccList = bccRecipients ? bccRecipients.split(',').map(e => e.trim()).filter(e => e) : [];\r\n\r\n      // Validate all emails\r\n      const allEmails = [...toList, ...ccList, ...bccList];\r\n      for (let email of allEmails) {\r\n        if (!validateEmail(email)) {\r\n          setError(`Invalid email format: ${email}`);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n      }\r\n\r\n      const response = await fetch(`http://localhost:8000/api/regions/${selectedRegion}/mailing-list`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          to_recipients: toList,\r\n          cc_recipients: ccList,\r\n          bcc_recipients: bccList,\r\n          updated_by: user?.username || 'system'\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success || response.ok) {\r\n        setSuccess('Mailing list updated successfully');\r\n        setTimeout(() => setSuccess(null), 3000);\r\n        fetchMailingList(selectedRegion);\r\n      } else {\r\n        setError(data.message || 'Failed to update mailing list');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error saving mailing list:', err);\r\n      setError('Error saving mailing list: ' + err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const clearAll = () => {\r\n    if (window.confirm('Are you sure you want to clear all recipients for this region?')) {\r\n      setToRecipients('');\r\n      setCcRecipients('');\r\n      setBccRecipients('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mailing-list-container\">\r\n      <h1>üìß Mailing List Manager</h1>\r\n\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n      {success && <div className=\"success-message\">{success}</div>}\r\n\r\n      {/* Region Selection */}\r\n      <div className=\"region-selection\">\r\n        <label>Select Region:</label>\r\n        <select\r\n          value={selectedRegion || ''}\r\n          onChange={(e) => setSelectedRegion(e.target.value || null)}\r\n          className=\"region-select\"\r\n          disabled={loading}\r\n        >\r\n          <option value=\"\">-- Choose a region --</option>\r\n          {regions.map(region => (\r\n            <option key={region.id} value={region.id}>\r\n              {region.name} ({region.id})\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {selectedRegion && mailingList && (\r\n        <div className=\"mailing-content\">\r\n          {/* Add Recipient Form */}\r\n          <div className=\"add-recipient-section\">\r\n            <h3>Add New Recipient</h3>\r\n            <div className=\"add-form\">\r\n              <input\r\n                type=\"email\"\r\n                value={newRecipient}\r\n                onChange={(e) => setNewRecipient(e.target.value)}\r\n                placeholder=\"recipient@example.com\"\r\n                className=\"email-input\"\r\n                onKeyPress={(e) => e.key === 'Enter' && addRecipient()}\r\n              />\r\n\r\n              <select\r\n                value={recipientType}\r\n                onChange={(e) => setRecipientType(e.target.value)}\r\n                className=\"type-select\"\r\n              >\r\n                <option value=\"to\">To (Primary)</option>\r\n                <option value=\"cc\">Cc (Carbon Copy)</option>\r\n                <option value=\"bcc\">Bcc (Blind Copy)</option>\r\n              </select>\r\n\r\n              <button onClick={addRecipient} className=\"add-button\">\r\n                ‚ûï Add Recipient\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Recipient Lists */}\r\n          <div className=\"recipients-grid\">\r\n            {/* To Recipients */}\r\n            <div className=\"recipient-section\">\r\n              <h3 className=\"to-header\">üì® To Recipients</h3>\r\n              <div className=\"recipient-list\">\r\n                {toRecipients && toRecipients.split(',').map((email, idx) => {\r\n                  const trimmed = email.trim();\r\n                  return trimmed ? (\r\n                    <div key={idx} className=\"recipient-chip to-chip\">\r\n                      <span>{trimmed}</span>\r\n                      <button\r\n                        onClick={() => removeRecipient(trimmed, 'to')}\r\n                        className=\"remove-btn\"\r\n                        title=\"Remove\"\r\n                      >\r\n                        ‚úï\r\n                      </button>\r\n                    </div>\r\n                  ) : null;\r\n                })}\r\n                {(!toRecipients || toRecipients.split(',').every(e => !e.trim())) && (\r\n                  <div className=\"empty-message\">No To recipients</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Cc Recipients */}\r\n            <div className=\"recipient-section\">\r\n              <h3 className=\"cc-header\">üìã Cc Recipients</h3>\r\n              <div className=\"recipient-list\">\r\n                {ccRecipients && ccRecipients.split(',').map((email, idx) => {\r\n                  const trimmed = email.trim();\r\n                  return trimmed ? (\r\n                    <div key={idx} className=\"recipient-chip cc-chip\">\r\n                      <span>{trimmed}</span>\r\n                      <button\r\n                        onClick={() => removeRecipient(trimmed, 'cc')}\r\n                        className=\"remove-btn\"\r\n                        title=\"Remove\"\r\n                      >\r\n                        ‚úï\r\n                      </button>\r\n                    </div>\r\n                  ) : null;\r\n                })}\r\n                {(!ccRecipients || ccRecipients.split(',').every(e => !e.trim())) && (\r\n                  <div className=\"empty-message\">No Cc recipients</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Bcc Recipients */}\r\n            <div className=\"recipient-section\">\r\n              <h3 className=\"bcc-header\">üîí Bcc Recipients</h3>\r\n              <div className=\"recipient-list\">\r\n                {bccRecipients && bccRecipients.split(',').map((email, idx) => {\r\n                  const trimmed = email.trim();\r\n                  return trimmed ? (\r\n                    <div key={idx} className=\"recipient-chip bcc-chip\">\r\n                      <span>{trimmed}</span>\r\n                      <button\r\n                        onClick={() => removeRecipient(trimmed, 'bcc')}\r\n                        className=\"remove-btn\"\r\n                        title=\"Remove\"\r\n                      >\r\n                        ‚úï\r\n                      </button>\r\n                    </div>\r\n                  ) : null;\r\n                })}\r\n                {(!bccRecipients || bccRecipients.split(',').every(e => !e.trim())) && (\r\n                  <div className=\"empty-message\">No Bcc recipients</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Statistics */}\r\n          <div className=\"mailing-stats\">\r\n            <div className=\"stat-item\">\r\n              <div className=\"stat-label\">To Recipients</div>\r\n              <div className=\"stat-value\">{toRecipients ? toRecipients.split(',').filter(e => e.trim()).length : 0}</div>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <div className=\"stat-label\">Cc Recipients</div>\r\n              <div className=\"stat-value\">{ccRecipients ? ccRecipients.split(',').filter(e => e.trim()).length : 0}</div>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <div className=\"stat-label\">Bcc Recipients</div>\r\n              <div className=\"stat-value\">{bccRecipients ? bccRecipients.split(',').filter(e => e.trim()).length : 0}</div>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <div className=\"stat-label\">Total Recipients</div>\r\n              <div className=\"stat-value total\">\r\n                {(toRecipients ? toRecipients.split(',').filter(e => e.trim()).length : 0) +\r\n                 (ccRecipients ? ccRecipients.split(',').filter(e => e.trim()).length : 0) +\r\n                 (bccRecipients ? bccRecipients.split(',').filter(e => e.trim()).length : 0)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"actions\">\r\n            <button\r\n              onClick={saveMailing}\r\n              className=\"save-button\"\r\n              disabled={loading}\r\n            >\r\n              üíæ Save Mailing List\r\n            </button>\r\n            <button\r\n              onClick={clearAll}\r\n              className=\"clear-button\"\r\n              disabled={loading}\r\n            >\r\n              üóëÔ∏è Clear All\r\n            </button>\r\n            <button\r\n              onClick={() => fetchMailingList(selectedRegion)}\r\n              className=\"refresh-button\"\r\n              disabled={loading}\r\n            >\r\n              üîÑ Refresh\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {!selectedRegion && (\r\n        <div className=\"no-selection\">\r\n          <p>üëà Please select a region to manage its mailing list</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MailingListManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}