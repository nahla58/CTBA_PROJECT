{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Dialog,DialogTitle,DialogContent,DialogActions,TextField,Button,Box,FormControl,InputLabel,Select,MenuItem}from'@mui/material';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='http://localhost:8000';export default function AddTechnologyModal(_ref){let{open,onClose,initialVendor='',initialProduct='',initialStatus='NORMAL',initialReason='',addedBy='analyst',onAdded=()=>{}}=_ref;const[vendor,setVendor]=useState(initialVendor);const[product,setProduct]=useState(initialProduct);const[status,setStatus]=useState(initialStatus);const[reason,setReason]=useState(initialReason);const[submitting,setSubmitting]=useState(false);useEffect(()=>{setVendor(initialVendor);setProduct(initialProduct);setStatus(initialStatus);setReason(initialReason);},[initialVendor,initialProduct,initialStatus,initialReason,open]);const handleAdd=async()=>{if(!vendor||!product)return;setSubmitting(true);try{await axios.post(\"\".concat(API_URL,\"/technologies\"),{vendor:vendor.trim(),product:product.trim(),status,reason});onAdded({vendor:vendor.trim(),product:product.trim(),status});onClose();}catch(err){console.error('Error adding technology',err);}finally{setSubmitting(false);}};return/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:onClose,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Add Technology\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',gap:2,minWidth:360},children:[/*#__PURE__*/_jsx(TextField,{label:\"Vendor\",size:\"small\",value:vendor,onChange:e=>setVendor(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Product\",size:\"small\",value:product,onChange:e=>setProduct(e.target.value)}),/*#__PURE__*/_jsxs(FormControl,{size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Status\"}),/*#__PURE__*/_jsxs(Select,{value:status,label:\"Status\",onChange:e=>setStatus(e.target.value),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"NORMAL\",children:\"NORMAL\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"PRIORITY\",children:\"PRIORITY\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"OUT_OF_SCOPE\",children:\"OUT_OF_SCOPE\"})]})]}),/*#__PURE__*/_jsx(TextField,{label:\"Reason\",size:\"small\",value:reason,onChange:e=>setReason(e.target.value)})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onClose,disabled:submitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleAdd,disabled:submitting,children:\"Add\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Button","Box","FormControl","InputLabel","Select","MenuItem","axios","jsx","_jsx","jsxs","_jsxs","API_URL","AddTechnologyModal","_ref","open","onClose","initialVendor","initialProduct","initialStatus","initialReason","addedBy","onAdded","vendor","setVendor","product","setProduct","status","setStatus","reason","setReason","submitting","setSubmitting","handleAdd","post","concat","trim","err","console","error","children","sx","display","flexDirection","gap","minWidth","label","size","value","onChange","e","target","onClick","disabled","variant"],"sources":["C:/essai/CTBA_PROJECT/frontend/src/components/AddTechnologyModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, TextField, Button, Box, FormControl, InputLabel, Select, MenuItem } from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8000';\r\n\r\nexport default function AddTechnologyModal({ open, onClose, initialVendor = '', initialProduct = '', initialStatus = 'NORMAL', initialReason = '', addedBy = 'analyst', onAdded = () => {} }) {\r\n  const [vendor, setVendor] = useState(initialVendor);\r\n  const [product, setProduct] = useState(initialProduct);\r\n  const [status, setStatus] = useState(initialStatus);\r\n  const [reason, setReason] = useState(initialReason);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setVendor(initialVendor);\r\n    setProduct(initialProduct);\r\n    setStatus(initialStatus);\r\n    setReason(initialReason);\r\n  }, [initialVendor, initialProduct, initialStatus, initialReason, open]);\r\n\r\n  const handleAdd = async () => {\r\n    if (!vendor || !product) return;\r\n    setSubmitting(true);\r\n    try {\r\n      await axios.post(`${API_URL}/technologies`, {\r\n        vendor: vendor.trim(),\r\n        product: product.trim(),\r\n        status,\r\n        reason\r\n      });\r\n      onAdded({ vendor: vendor.trim(), product: product.trim(), status });\r\n      onClose();\r\n    } catch (err) {\r\n      console.error('Error adding technology', err);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose}>\r\n      <DialogTitle>Add Technology</DialogTitle>\r\n      <DialogContent>\r\n        <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, minWidth: 360 }}>\r\n          <TextField label=\"Vendor\" size=\"small\" value={vendor} onChange={(e) => setVendor(e.target.value)} />\r\n          <TextField label=\"Product\" size=\"small\" value={product} onChange={(e) => setProduct(e.target.value)} />\r\n          <FormControl size=\"small\">\r\n            <InputLabel>Status</InputLabel>\r\n            <Select value={status} label=\"Status\" onChange={(e) => setStatus(e.target.value)}>\r\n              <MenuItem value=\"NORMAL\">NORMAL</MenuItem>\r\n              <MenuItem value=\"PRIORITY\">PRIORITY</MenuItem>\r\n              <MenuItem value=\"OUT_OF_SCOPE\">OUT_OF_SCOPE</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <TextField label=\"Reason\" size=\"small\" value={reason} onChange={(e) => setReason(e.target.value)} />\r\n        </Box>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onClose} disabled={submitting}>Cancel</Button>\r\n        <Button variant=\"contained\" onClick={handleAdd} disabled={submitting}>Add</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,WAAW,CAAEC,aAAa,CAAEC,aAAa,CAAEC,SAAS,CAAEC,MAAM,CAAEC,GAAG,CAAEC,WAAW,CAAEC,UAAU,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,eAAe,CACpJ,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,OAAO,CAAG,uBAAuB,CAEvC,cAAe,SAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAAoJ,IAAnJ,CAAEC,IAAI,CAAEC,OAAO,CAAEC,aAAa,CAAG,EAAE,CAAEC,cAAc,CAAG,EAAE,CAAEC,aAAa,CAAG,QAAQ,CAAEC,aAAa,CAAG,EAAE,CAAEC,OAAO,CAAG,SAAS,CAAEC,OAAO,CAAGA,CAAA,GAAM,CAAC,CAAE,CAAC,CAAAR,IAAA,CAC1L,KAAM,CAACS,MAAM,CAAEC,SAAS,CAAC,CAAG9B,QAAQ,CAACuB,aAAa,CAAC,CACnD,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGhC,QAAQ,CAACwB,cAAc,CAAC,CACtD,KAAM,CAACS,MAAM,CAAEC,SAAS,CAAC,CAAGlC,QAAQ,CAACyB,aAAa,CAAC,CACnD,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGpC,QAAQ,CAAC0B,aAAa,CAAC,CACnD,KAAM,CAACW,UAAU,CAAEC,aAAa,CAAC,CAAGtC,QAAQ,CAAC,KAAK,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACd6B,SAAS,CAACP,aAAa,CAAC,CACxBS,UAAU,CAACR,cAAc,CAAC,CAC1BU,SAAS,CAACT,aAAa,CAAC,CACxBW,SAAS,CAACV,aAAa,CAAC,CAC1B,CAAC,CAAE,CAACH,aAAa,CAAEC,cAAc,CAAEC,aAAa,CAAEC,aAAa,CAAEL,IAAI,CAAC,CAAC,CAEvE,KAAM,CAAAkB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAACV,MAAM,EAAI,CAACE,OAAO,CAAE,OACzBO,aAAa,CAAC,IAAI,CAAC,CACnB,GAAI,CACF,KAAM,CAAAzB,KAAK,CAAC2B,IAAI,IAAAC,MAAA,CAAIvB,OAAO,kBAAiB,CAC1CW,MAAM,CAAEA,MAAM,CAACa,IAAI,CAAC,CAAC,CACrBX,OAAO,CAAEA,OAAO,CAACW,IAAI,CAAC,CAAC,CACvBT,MAAM,CACNE,MACF,CAAC,CAAC,CACFP,OAAO,CAAC,CAAEC,MAAM,CAAEA,MAAM,CAACa,IAAI,CAAC,CAAC,CAAEX,OAAO,CAAEA,OAAO,CAACW,IAAI,CAAC,CAAC,CAAET,MAAO,CAAC,CAAC,CACnEX,OAAO,CAAC,CAAC,CACX,CAAE,MAAOqB,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAEF,GAAG,CAAC,CAC/C,CAAC,OAAS,CACRL,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACErB,KAAA,CAACf,MAAM,EAACmB,IAAI,CAAEA,IAAK,CAACC,OAAO,CAAEA,OAAQ,CAAAwB,QAAA,eACnC/B,IAAA,CAACZ,WAAW,EAAA2C,QAAA,CAAC,gBAAc,CAAa,CAAC,cACzC/B,IAAA,CAACX,aAAa,EAAA0C,QAAA,cACZ7B,KAAA,CAACT,GAAG,EAACuC,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEC,GAAG,CAAE,CAAC,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAAAL,QAAA,eAC3E/B,IAAA,CAACT,SAAS,EAAC8C,KAAK,CAAC,QAAQ,CAACC,IAAI,CAAC,OAAO,CAACC,KAAK,CAAEzB,MAAO,CAAC0B,QAAQ,CAAGC,CAAC,EAAK1B,SAAS,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cACpGvC,IAAA,CAACT,SAAS,EAAC8C,KAAK,CAAC,SAAS,CAACC,IAAI,CAAC,OAAO,CAACC,KAAK,CAAEvB,OAAQ,CAACwB,QAAQ,CAAGC,CAAC,EAAKxB,UAAU,CAACwB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cACvGrC,KAAA,CAACR,WAAW,EAAC4C,IAAI,CAAC,OAAO,CAAAP,QAAA,eACvB/B,IAAA,CAACL,UAAU,EAAAoC,QAAA,CAAC,QAAM,CAAY,CAAC,cAC/B7B,KAAA,CAACN,MAAM,EAAC2C,KAAK,CAAErB,MAAO,CAACmB,KAAK,CAAC,QAAQ,CAACG,QAAQ,CAAGC,CAAC,EAAKtB,SAAS,CAACsB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAR,QAAA,eAC/E/B,IAAA,CAACH,QAAQ,EAAC0C,KAAK,CAAC,QAAQ,CAAAR,QAAA,CAAC,QAAM,CAAU,CAAC,cAC1C/B,IAAA,CAACH,QAAQ,EAAC0C,KAAK,CAAC,UAAU,CAAAR,QAAA,CAAC,UAAQ,CAAU,CAAC,cAC9C/B,IAAA,CAACH,QAAQ,EAAC0C,KAAK,CAAC,cAAc,CAAAR,QAAA,CAAC,cAAY,CAAU,CAAC,EAChD,CAAC,EACE,CAAC,cACd/B,IAAA,CAACT,SAAS,EAAC8C,KAAK,CAAC,QAAQ,CAACC,IAAI,CAAC,OAAO,CAACC,KAAK,CAAEnB,MAAO,CAACoB,QAAQ,CAAGC,CAAC,EAAKpB,SAAS,CAACoB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,EACjG,CAAC,CACO,CAAC,cAChBrC,KAAA,CAACZ,aAAa,EAAAyC,QAAA,eACZ/B,IAAA,CAACR,MAAM,EAACmD,OAAO,CAAEpC,OAAQ,CAACqC,QAAQ,CAAEtB,UAAW,CAAAS,QAAA,CAAC,QAAM,CAAQ,CAAC,cAC/D/B,IAAA,CAACR,MAAM,EAACqD,OAAO,CAAC,WAAW,CAACF,OAAO,CAAEnB,SAAU,CAACoB,QAAQ,CAAEtB,UAAW,CAAAS,QAAA,CAAC,KAAG,CAAQ,CAAC,EACrE,CAAC,EACV,CAAC,CAEb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}